<div class="page">
  <div class="page-header">
    <div class="left">
      <h1>Motoristas</h1>
      <p>Gestão de motoristas</p>
    </div>

    <button class="primary-btn" type="button" (click)="novoMotorista()">
      <i class="fas fa-plus"></i>
      Novo Motorista
    </button>
  </div>

  <div class="card">
    <div class="toolbar">
      <div class="search">
        <i class="fas fa-magnifying-glass"></i>
        <input
          type="text"
          [(ngModel)]="search"
          placeholder="Buscar por nome, CPF, CNH..."
        />
      </div>

      <select class="select" [(ngModel)]="statusFilter">
        <option value="Todos">Todos</option>
        <option value="ATIVO">Ativo</option>
        <option value="INATIVO">Inativo</option>
      </select>
    </div>

    <div class="table-wrap">
      <table class="table">
        <thead>
        <tr>
          <th>Nome</th>
          <th>CPF</th>
          <th>CNH</th>
          <th>Categoria</th>
          <th>Telefone</th>
          <th>Status</th>
          <th class="actions-col">Ações</th>
        </tr>
        </thead>

        <tbody>
        <tr *ngFor="let m of filtered">
          <td class="name">{{ m.nome }}</td>
          <td>{{ m.cpf }}</td>
          <td>{{ m.cnh }}</td>
          <td>{{ m.categoriaCnh }}</td>
          <td>{{ m.telefone }}</td>
          <td>
              <span class="badge" [class.active]="m.status==='ATIVO'" [class.inactive]="m.status==='INATIVO'">
                {{ m.status }}
              </span>
          </td>
          <td class="actions">
            <button class="icon-btn" type="button" (click)="ver(m)" title="Ver">
              <i class="fas fa-eye"></i>
            </button>
            <button class="icon-btn" type="button" (click)="editar(m)" title="Editar">
              <i class="fas fa-pen"></i>
            </button>
            <button class="icon-btn danger" type="button" (click)="excluir(m)" title="Excluir">
              <i class="fas fa-trash"></i>
            </button>
          </td>
        </tr>

        <tr *ngIf="filtered.length === 0">
          <td colspan="7" class="empty">
            Nenhum motorista encontrado.
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
