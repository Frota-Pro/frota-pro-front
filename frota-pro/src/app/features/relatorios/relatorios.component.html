<div class="relatorios-page">
  <h2 class="page-title">Relat√≥rios</h2>

  <div class="filters">
    <div class="filter-item">
      <label>Data In√≠cio</label>
      <input type="date" [(ngModel)]="filtro.inicio" />
    </div>

    <div class="filter-item">
      <label>Data Fim</label>
      <input type="date" [(ngModel)]="filtro.fim" />
    </div>

    <div class="filter-item">
      <label>Tipo de Relat√≥rio</label>
      <select [(ngModel)]="filtro.tipoRelatorio">
        <option value="">Selecione...</option>
        <option value="GASTO_COMBUSTIVEL">Gasto por Tipo de Combust√≠vel</option>
        <option value="RESUMO_CAMINHAO">Resumo por Caminh√£o</option>
        <option value="MANUTENCOES_CAMINHAO">Manuten√ß√µes do Caminh√£o</option>
        <option value="VIDA_UTIL_PNEU">Vida √ötil do Pneu</option>
        <option value="RELATORIO_MOTORISTA">Mensal do Motorista</option>
      </select>
    </div>

    <!-- üîπ CAMPO EXTRA PARA CAMINH√ÉO -->
    <div
      class="filter-item"
      *ngIf="relatoriosQuePedemCaminhao.includes(filtro.tipoRelatorio)"
    >
      <label>Caminh√£o</label>
      <input
        type="text"
        placeholder="Digite o c√≥digo do caminh√£o"
        [(ngModel)]="codigoCaminhao"
      />
    </div>

    <!-- üîπ CAMPO EXTRA PARA MOTORISTA -->
    <div
      class="filter-item"
      *ngIf="relatoriosQuePedemMotorista.includes(filtro.tipoRelatorio)"
    >
      <label>Motorista</label>
      <input
        type="text"
        placeholder="Digite o c√≥digo do motorista"
        [(ngModel)]="codigoMotorista"
      />
    </div>

    <button class="btn-gerar" (click)="gerarRelatorio()">Gerar Relat√≥rio</button>
  </div>

  <!-- RESULTADO DO RELAT√ìRIO -->
  <section class="relatorio-block" *ngIf="relatorioGerado">
    <div class="block-header">
      <h3>Visualiza√ß√£o do Relat√≥rio</h3>
      <button class="btn-download" (click)="baixarRelatorio()">Baixar PDF</button>
    </div>

    <div class="preview">
      <h4>{{ tituloRelatorio }}</h4>
      <p class="periodo">
        Per√≠odo: {{ filtro.inicio | date:'dd/MM/yyyy' }} ‚Üí
        {{ filtro.fim | date:'dd/MM/yyyy' }}
      </p>

      <!-- MOSTRA CAMINH√ÉO SE HOUVER -->
      <p
        class="periodo"
        *ngIf="relatoriosQuePedemCaminhao.includes(filtro.tipoRelatorio)"
      >
        Caminh√£o: {{ codigoCaminhao }}
      </p>

      <!-- MOSTRA MOTORISTA SE HOUVER -->
      <p
        class="periodo"
        *ngIf="relatoriosQuePedemMotorista.includes(filtro.tipoRelatorio)"
      >
        Motorista: {{ codigoMotorista }}
      </p>

      <div class="preview-area">
        <p>Pr√©-visualiza√ß√£o dispon√≠vel em breve...</p>
      </div>
    </div>
  </section>
</div>
